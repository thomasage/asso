{% extends ':member:layout.html.twig' %}

{% trans_default_domain 'member' %}

{% block body %}

    <div id="menu-secondary">
        <h1>{{ 'edit_membership.title'|trans }}</h1>
        <nav>
            <a href="{{ path('app_member_show',{member:member.id}) }}" class="button">
                <span class="fi-arrow-left"></span>
                {{ 'action.back'|trans({},'messages') }}
            </a>
        </nav>
    </div>

    {{ include('default/_flash_messages.html.twig') }}

    <div class="app_member_membership_edit">

        <div class="card0">
            <div class="image">
                <img src="{{ path('app_member_photo',{member:member.id}) }}" alt="Photo"/>
            </div>
            <div class="information">
                <div><strong>{{ member }}</strong></div>
                <div>{{ member.age }} {{ 'age'|trans }}</div>
                <div>{{ member.city }}</div>
            </div>
        </div>

        {{ form_start(formEdit) }}

        <div class="edit1">
            {{ form_errors(formEdit) }}
            {{ form_row(formEdit.season) }}
            {{ form_row(formEdit.number) }}
            {{ form_row(formEdit.level) }}
            {{ form_row(formEdit.medicalCertificate) }}
            {% if membership.medicalCertificate %}
                <div class="nolabel">
                    <a href="{{ path('app_member_membership_document_download',{document:membership.medicalCertificate.id}) }}"
                       class="button secondary">
                        <span class="fi-download"></span>
                        T&eacute;l&eacute;charger
                    </a>
                    <a href="{{ path('app_member_membership_document_delete',{membership:membership.id,document:membership.medicalCertificate.id}) }}"
                       class="button warning">
                        <span class="fi-trash"></span>
                        Supprimer
                    </a>
                </div>
            {% endif %}
            {{ form_row(formEdit.registrationForm) }}
            {% if membership.registrationForm %}
                <div class="nolabel">
                    <a href="{{ path('app_member_membership_document_download',{document:membership.registrationForm.id}) }}"
                       class="button secondary">
                        <span class="fi-download"></span>
                        T&eacute;l&eacute;charger
                    </a>
                    <a href="{{ path('app_member_membership_document_delete',{membership:membership.id,document:membership.registrationForm.id}) }}"
                       class="button warning">
                        <span class="fi-trash"></span>
                        Supprimer
                    </a>
                </div>
            {% endif %}
            <div class="action">
                <button type="submit" class="button success" name="update">
                    <span class="fi-check"></span>
                    {{ 'action.update'|trans({},'messages') }}
                </button>
                <span>or</span>
                <a href="{{ path('app_member_membership_delete',{membership:membership.id}) }}" class="button warning">
                    <span class="fi-trash"></span>
                    {{ 'action.delete'|trans({},'messages') }}
                </a>
                <span>or</span>
                <a href="{{ path('app_member_show',{member:member.id}) }}" class="button">
                    <span class="fi-x"></span>
                    {{ 'action.cancel'|trans({},'messages') }}
                </a>
            </div>
        </div>

        {{ form_end(formEdit) }}

    </div>

{% endblock %}
